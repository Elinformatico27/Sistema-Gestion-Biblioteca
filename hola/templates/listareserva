{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Historial de Reservas</title>

    <style>
        body {
            font-family:'Poppins', sans-serif;
            margin:0; padding:0;
            min-height:100vh;
            color:#fff;
            background: radial-gradient(circle at top left, #1a2a6c, #b21f1f, #fdbb2d);
            background-size:400% 400%;
            animation:fondoGradiente 12s ease infinite;
            display:flex;
            flex-direction:column;
            align-items:center;
        }

        @keyframes fondoGradiente {
            0% { background-position:0% 50%; }
            50% { background-position:100% 50%; }
            100% { background-position:0% 50%; }
        }

        h1 {
            text-align:center;
            font-size:2.8rem;
            margin-top:40px;
            margin-bottom:30px;
            text-shadow:0 0 12px #00d9ff;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap:25px;
            width:90%;
            max-width:1100px;
            margin-bottom:30px;
        }

        .card {
            background: rgba(255,255,255,0.12);
            backdrop-filter: blur(12px);
            border-radius:20px;
            padding:25px;
            box-shadow:0 10px 25px rgba(0,0,0,0.5);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow:0 15px 30px rgba(0,0,0,0.6);
        }

        .card h3 {
            margin:0 0 10px;
            font-size:1.4rem;
            text-shadow:0 0 6px #00d9ff;
        }

        .card p {
            margin:5px 0;
            font-size:1rem;
        }

        .estado {
            display:inline-block;
            padding:6px 14px;
            border-radius:25px;
            font-weight:bold;
            font-size:0.95rem;
            margin-top:10px;
            color:#fff;
        }

        .Pendiente { background:#f39c12; }
        .Confirmada { background:#27ae60; }
        .Cancelada { background:#e74c3c; }

        .btn-regresar {
            display:inline-block;
            padding:12px 28px;
            background:linear-gradient(135deg,#ff416c,#ff4b2b);
            color:#fff;
            text-decoration:none;
            border-radius:30px;
            font-weight:700;
            margin-bottom:40px;
            transition:0.3s;
            box-shadow:0 4px 15px rgba(0,0,0,0.4);
        }

        .btn-regresar:hover {
            transform:translateY(-4px);
            box-shadow:0 8px 25px rgba(0,0,0,0.6);
        }

        footer {
            width:100%;
            text-align:center;
            padding:20px;
            background:rgba(255,255,255,0.1);
            backdrop-filter:blur(10px);
            color:#d4e8ff;
            font-size:0.9rem;
            border-top-left-radius:15px;
            border-top-right-radius:15px;
            box-shadow:0 -4px 20px rgba(0,0,0,0.5);
            margin-top:auto;
        }
    </style>
</head>
<body>

    <h1>üìö Historial de Reservas</h1>

    <div class="grid">
        {% for r in reservas %}
        <div class="card">
            <h3>{{ r.usuario.username }}</h3>
            <p><strong>Libro:</strong> {{ r.libro.titulo }}</p>
            <p><strong>Fecha de Reserva:</strong> {{ r.fecha_reserva }}</p>
            <p><strong>Fecha de Retiro:</strong> {{ r.fecha_retiro }}</p>
            <span class="estado 
                {% if r.estado == 'Pendiente' %}Pendiente{% endif %}
                {% if r.estado == 'Confirmada' %}Confirmada{% endif %}
                {% if r.estado == 'Cancelada' %}Cancelada{% endif %}">
                {{ r.estado }}
            </span>
        </div>
        {% empty %}
        <p style="text-align:center;">No hay reservas registradas.</p>
        {% endfor %}
    </div>

    <a href="{% url 'mis_reservas' %}" class="btn-regresar">üè† Volver a Mis Reservas</a>

    <footer>
        &copy; 2025 Biblioteca Digital ‚Äî Gesti√≥n Moderna de Reservas üìò
    </footer>

</body>
</html>
